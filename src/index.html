<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title data-ng-bind="pageTitle"></title>

  <link rel="shortcut icon" href="/images/favicon/favicon.ico" type="image/x-icon"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/images/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicon/manifest.json">
  <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#000000">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/styles/style.css?v=0.0.1">
  <base href="/">
</head>
<body class="page" data-ng-class="::pageClass">

<div data-ui-view class="app-container clearfix"></div>

<script type="text/javascript" src="/scripts/systemjs/system.js"></script>
<script>

  (function (System) {
    var systemnormalize = System.normalize;
    var blacklist = ['systemjs-json'];

    function shouldReverse(parts) {
      return parts.every(function (part) {
        return blacklist.indexOf(part) === -1;
      });
    }

    System.normalize = function (name, parentName) {
      var parts = name.split('!');

      if (parts.length > 1 && shouldReverse(parts)) {
        name = parts.reverse().join('!');
      }

      return systemnormalize.call(this, name, parentName);
    };
  })(System);

  var systemLocate = System.locate;
  System.locate = function (load) {
    var System = this;
    return Promise.resolve(systemLocate.call(this, load)).then(function (address) {
      return address + System.cacheBust;
    });
  };
  System.cacheBust = '?v=0.0.1';

  System.config({
    map: {
      css: '/scripts/systemjs/css.js',
      glsl: 'https://cdn.rodinapp.com/systemjs/glsl.js'
    },
    meta: {
      'https://cdn.rodinapp.com/*.glsl': {
        loader: 'glsl'
      }
    },
    paths: {
      '*': 'scripts/vendor/*',
      'app/*': 'app/*',
      'app3d/*': 'app3d/*',
      'scripts/*': 'scripts/*'
    },
    packages: {
      "https://cdn.rodinapp.com/": {  // path to your project root
        "defaultJSExtensions": true
      },
      "https://cdn.rodinapp.com/nm": {
        "defaultJSExtensions": true
      },
      "/scripts": {  // path to your project root
        "defaultJSExtensions": true,
        meta: {
          '*.css': {loader: 'css'}
        }
      },
      "/app": {  // path to your project root
        "defaultJSExtensions": true
      },
      "/app3d": {  // path to your project root
        "defaultJSExtensions": true
      }
    }
  });

  System.import('https://cdn.rodinapp.com/three/THREE.GLOBAL.js');

  System.import('app/app.js');

</script>

<script src="https://cdn.rodinapp.com/nm/es6-promise.js"></script>
<script src="https://cdn.rodinapp.com/nm/webvr-polyfill.js"></script>
<script src="https://cdn.rodinapp.com/nm/webvr-manager.js"></script>

</body>
</html>
